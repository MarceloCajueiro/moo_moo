--- 
- !ruby/struct:VCR::HTTPInteraction 
  request: !ruby/struct:VCR::Request 
    method: :post
    uri: https://test.server.com:55443/
    body: 
      OPS_envelope: 
        header: 
          version: !str 
            str: "0.9"
            :@attributes: {}

        body: 
          data_block: 
            dt_assoc: 
              item: 
              - !str 
                str: XCP
                :@attributes: 
                  key: protocol
              - !str 
                str: lookup
                :@attributes: 
                  key: action
              - !str 
                str: domain
                :@attributes: 
                  key: object
              - key: registrant_ip
              - dt_assoc: 
                  item: !str 
                    str: example.com
                    :@attributes: 
                      key: domain
                key: attributes
    headers: 
      content-type: 
      - text/xml
      x-username: 
      - opensrs_user
      x-signature:
      - 00000000000000000000000000000000
      content-length: 
      - "639"
  response: !ruby/struct:VCR::Response 
    status: !ruby/struct:VCR::ResponseStatus 
      code: 200
      message: OK
    headers: 
      date: 
      - Fri, 15 Apr 2011 17:15:27 GMT
      server: 
      - OpenSRS/XML-RSA Server
      content-length: 
      - "638"
      content-type: 
      - text/xml
    body: |-
      <?xml version='1.0' encoding="UTF-8" standalone="no" ?>
      <!DOCTYPE OPS_envelope SYSTEM "ops.dtd">
      <OPS_envelope>
       <header>
        <version>0.9</version>
        </header>
       <body>
        <data_block>
         <dt_assoc>
          <item key="protocol">XCP</item>
          <item key="object">DOMAIN</item>
          <item key="response_text">Domain available</item>
          <item key="action">REPLY</item>
          <item key="attributes">
           <dt_assoc>
            <item key="status">available</item>
            <item key="match"></item>
           </dt_assoc>
          </item>
          <item key="response_code">210</item>
          <item key="is_success">1</item>
         </dt_assoc>
        </data_block>
       </body>
      </OPS_envelope>
    http_version: "1.1"
- !ruby/struct:VCR::HTTPInteraction 
  request: !ruby/struct:VCR::Request 
    method: :post
    uri: https://test.server.com:55443/
    body: |
      <?xml version='1.0' encoding='UTF-8' standalone='no'?>
             
            <!DOCTYPE OPS_envelope SYSTEM "ops.dtd"><OPS_envelope>
              <header> 
                <version>0.9</version>
              </header> 
              <body>
                <data_block> 
                  <dt_assoc>
                    <item key='protocol'>XCP</item> 
                    <item key='action'>lookup</item> 
                    <item key='object'>domain</item> 
                    <item key='registrant_ip'/>
                  <item key='attributes'><dt_assoc><item key='domain'>domainthatsnottaken1302209138.com</item></dt_assoc></item></dt_assoc> 
                </data_block>
              </body> 
            </OPS_envelope>

    headers: 
      content-type: 
      - text/xml
      x-username: 
      - opensrs_user
      x-signature:
      - 00000000000000000000000000000000
      content-length: 
      - "639"
  response: !ruby/struct:VCR::Response 
    status: !ruby/struct:VCR::ResponseStatus 
      code: 200
      message: OK
    headers: 
      date: 
      - Fri, 15 Apr 2011 17:15:27 GMT
      server: 
      - OpenSRS/XML-RSA Server
      content-length: 
      - "630"
      content-type: 
      - text/xml
    body: |-
      <?xml version='1.0' encoding="UTF-8" standalone="no" ?>
      <!DOCTYPE OPS_envelope SYSTEM "ops.dtd">
      <OPS_envelope>
       <header>
        <version>0.9</version>
        </header>
       <body>
        <data_block>
         <dt_assoc>
          <item key="protocol">XCP</item>
          <item key="object">DOMAIN</item>
          <item key="response_text">Domain taken</item>
          <item key="action">REPLY</item>
          <item key="attributes">
           <dt_assoc>
            <item key="status">taken</item>
            <item key="match"></item>
           </dt_assoc>
          </item>
          <item key="response_code">211</item>
          <item key="is_success">1</item>
         </dt_assoc>
        </data_block>
       </body>
      </OPS_envelope>
    http_version: "1.1"
